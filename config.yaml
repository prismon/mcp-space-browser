# MCP Space Browser Configuration

# Server settings
server:
  port: 3033
  host: "0.0.0.0"  # Host address to bind to (use 0.0.0.0 for all interfaces)
  external_host: ""  # External hostname for generating URLs (defaults to host, or localhost if binding to 0.0.0.0)
  base_url: "https://mcp.technicaldetails.org"  # Deprecated: use external_host and port instead

# Database settings
database:
  path: "disk.db"

# Cache settings
cache:
  # Directory for storing generated artifacts (thumbnails, video frames, etc.)
  # Defaults to "./cache/artifacts" if not specified
  dir: "./cache/artifacts"

# OAuth/OIDC Authentication settings
auth:
  # Enable or disable authentication (default: false)
  enabled: false

  # Require authentication for all endpoints (default: false)
  # If false, endpoints work without auth but user context is available when provided
  require_auth: false

  # OAuth provider configuration
  # Supported providers: okta, auth0, google, azure, generic
  provider: "generic"

  # OIDC issuer URL (required if auth.enabled = true)
  # Examples:
  #   - Okta: https://your-domain.okta.com
  #   - Auth0: https://your-domain.auth0.com
  #   - Google: https://accounts.google.com
  #   - Azure: https://login.microsoftonline.com/{tenant-id}/v2.0
  issuer: ""

  # OAuth audience (required if auth.enabled = true)
  # This is the identifier for your API (usually configured in your OAuth provider)
  audience: "api://mcp-space-browser"

  # JWKS URL for token validation (optional - auto-discovered from issuer if not provided)
  # The URL to fetch JSON Web Key Sets for validating JWT signatures
  jwks_url: ""

  # Client credentials (optional - only needed for server-to-server flows)
  client_id: ""
  client_secret: ""

  # Dynamic Client Registration endpoint (optional)
  # Enable this to support MCP clients that use DCR to auto-register
  # Example: https://your-domain.okta.com/oauth2/v1/clients
  dcr_endpoint: ""

  # Token validation cache TTL in minutes (default: 5)
  cache_ttl_minutes: 5

  # Protected Resource Metadata (RFC 9728) settings
  # These are used for MCP OAuth discovery
  resource_metadata:
    # Resource identifier (defaults to server.base_url)
    resource: ""

    # Supported bearer token methods (default: ["header"])
    bearer_methods: ["header"]

    # Signing algorithms supported (default: ["RS256"])
    signing_algs: ["RS256", "ES256"]

# Logging settings
logging:
  level: "info"  # trace, debug, info, warn, error
