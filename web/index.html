<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MCP Space Browser - Web Components Demo</title>
  <style>
    body {
      margin: 0;
      padding: 40px 20px;
      background: #f6f8fa;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
    }

    .header h1 {
      font-size: 32px;
      font-weight: 700;
      color: #24292e;
      margin: 0 0 8px 0;
    }

    .header p {
      font-size: 16px;
      color: #586069;
      margin: 0;
    }

    .nav-tabs {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin-bottom: 40px;
      flex-wrap: wrap;
    }

    .nav-tab {
      padding: 10px 20px;
      background: white;
      border: 2px solid #e1e4e8;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      color: #586069;
      transition: all 0.2s;
    }

    .nav-tab:hover {
      border-color: #0969da;
      color: #0969da;
    }

    .nav-tab.active {
      background: #0969da;
      border-color: #0969da;
      color: white;
    }

    .demo-section {
      max-width: 1000px;
      margin: 0 auto 40px auto;
      display: none;
    }

    .demo-section.active {
      display: block;
    }

    .section-header {
      background: white;
      border: 1px solid #e1e4e8;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .section-header h2 {
      margin: 0 0 8px 0;
      font-size: 24px;
      font-weight: 600;
      color: #24292e;
    }

    .section-header p {
      margin: 0;
      color: #586069;
      font-size: 14px;
    }

    .info-box {
      background: #ffffff;
      border: 1px solid #e1e4e8;
      border-radius: 8px;
      padding: 24px;
      margin: 24px 0;
    }

    .info-box h3 {
      margin: 0 0 16px 0;
      font-size: 16px;
      font-weight: 600;
      color: #24292e;
    }

    .info-box ul {
      margin: 0;
      padding-left: 20px;
      color: #24292e;
    }

    .info-box li {
      margin-bottom: 8px;
    }

    .info-box code {
      background: #f6f8fa;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'SF Mono', Monaco, Consolas, monospace;
      font-size: 13px;
    }

    .footer {
      text-align: center;
      margin-top: 60px;
      padding: 20px;
      color: #586069;
      font-size: 14px;
    }

    .footer a {
      color: #0969da;
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    .badge {
      display: inline-block;
      padding: 3px 8px;
      background: #ddf4ff;
      border: 1px solid #54aeff;
      color: #0969da;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 500;
      margin-left: 8px;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>üóÇÔ∏è MCP Space Browser</h1>
    <p>Comprehensive web component suite for disk space analysis via MCP JSON-RPC</p>
  </div>

  <div class="nav-tabs">
    <div class="nav-tab active" data-section="projects">üìÇ Projects</div>
    <div class="nav-tab" data-section="indexer">üì• Indexer</div>
    <div class="nav-tab" data-section="navigator">üìÅ Navigator</div>
    <div class="nav-tab" data-section="jobs">üéØ Jobs</div>
    <div class="nav-tab" data-section="plans">üìã Plans</div>
    <div class="nav-tab" data-section="selection-sets">üì¶ Selection Sets</div>
    <div class="nav-tab" data-section="queries">üîç Queries</div>
    <div class="nav-tab" data-section="session">‚öôÔ∏è Session</div>
  </div>

  <!-- Projects Section -->
  <div class="demo-section active" id="projects">
    <div class="section-header">
      <h2>üìÇ Projects <span class="badge">6 tools</span></h2>
      <p>Create, open, and manage projects with isolated databases</p>
    </div>

    <mcp-projects></mcp-projects>

    <div class="info-box">
      <h3>MCP Tools Used</h3>
      <ul>
        <li><code>project-list</code> - List all available projects</li>
        <li><code>project-create</code> - Create a new project with its own database</li>
        <li><code>project-open</code> - Open a project for the current session</li>
        <li><code>project-close</code> - Close the currently active project</li>
        <li><code>project-get</code> - Get details about a specific project</li>
        <li><code>project-delete</code> - Delete a project and its data</li>
      </ul>
    </div>
  </div>

  <!-- Indexer Section -->
  <div class="demo-section" id="indexer">
    <div class="section-header">
      <h2>üì• Disk Indexer <span class="badge">index, job-progress</span></h2>
      <p>Index filesystem paths and track progress asynchronously</p>
    </div>

    <mcp-disk-indexer default-path="/tmp"></mcp-disk-indexer>

    <div class="info-box">
      <h3>MCP Tools Used</h3>
      <ul>
        <li><code>index</code> - Trigger filesystem indexing with async job tracking</li>
        <li><code>job-progress</code> - Poll job status and progress percentage</li>
      </ul>
    </div>
  </div>

  <!-- Navigator Section -->
  <div class="demo-section" id="navigator">
    <div class="section-header">
      <h2>üìÅ Disk Navigator <span class="badge">cd, inspect</span></h2>
      <p>Navigate indexed directories and inspect file/directory metadata</p>
    </div>

    <mcp-disk-navigator default-path="/tmp"></mcp-disk-navigator>

    <div class="info-box">
      <h3>MCP Tools Used</h3>
      <ul>
        <li><code>cd</code> - Change directory and list children with pagination and sorting</li>
        <li><code>inspect</code> - Get detailed metadata for a specific file or directory</li>
      </ul>
    </div>
  </div>

  <!-- Jobs Section -->
  <div class="demo-section" id="jobs">
    <div class="section-header">
      <h2>üéØ Job Manager <span class="badge">list-jobs, cancel-job</span></h2>
      <p>Monitor and manage indexing jobs with real-time status updates</p>
    </div>

    <mcp-job-manager></mcp-job-manager>

    <div class="info-box">
      <h3>MCP Tools Used</h3>
      <ul>
        <li><code>list-jobs</code> - List all indexing jobs with filtering by status, progress, and active state</li>
        <li><code>cancel-job</code> - Cancel a running or pending indexing job</li>
        <li><code>job-progress</code> - Get detailed progress information for a specific job</li>
      </ul>
    </div>
  </div>

  <!-- Plans Section -->
  <div class="demo-section" id="plans">
    <div class="section-header">
      <h2>üìã Plans <span class="badge">5 tools</span></h2>
      <p>Create and manage automated file processing plans with triggers and outcomes</p>
    </div>

    <mcp-plans></mcp-plans>

    <div class="info-box">
      <h3>MCP Tools Used</h3>
      <ul>
        <li><code>plan-list</code> - List all plans</li>
        <li><code>plan-get</code> - Get details of a specific plan</li>
        <li><code>plan-create</code> - Create a new plan</li>
        <li><code>plan-update</code> - Update an existing plan</li>
        <li><code>plan-delete</code> - Delete a plan</li>
      </ul>
    </div>
  </div>

  <!-- Selection Sets Section -->
  <div class="demo-section" id="selection-sets">
    <div class="section-header">
      <h2>üì¶ Selection Sets <span class="badge">5 tools</span></h2>
      <p>Create and manage selection sets for organizing indexed files</p>
    </div>

    <mcp-selection-sets></mcp-selection-sets>

    <div class="info-box">
      <h3>MCP Tools Used</h3>
      <ul>
        <li><code>selection-set-create</code> - Create a new selection set</li>
        <li><code>selection-set-list</code> - List all selection sets</li>
        <li><code>selection-set-get</code> - Get entries in a selection set</li>
        <li><code>selection-set-modify</code> - Add or remove entries from a set</li>
        <li><code>selection-set-delete</code> - Delete a selection set</li>
      </ul>
    </div>
  </div>

  <!-- Queries Section -->
  <div class="demo-section" id="queries">
    <div class="section-header">
      <h2>üîç Saved Queries <span class="badge">6 tools</span></h2>
      <p>Create, manage, and execute saved queries on indexed data</p>
    </div>

    <mcp-queries></mcp-queries>

    <div class="info-box">
      <h3>MCP Tools Used</h3>
      <ul>
        <li><code>query-create</code> - Create a new saved query</li>
        <li><code>query-execute</code> - Execute a saved query and return results</li>
        <li><code>query-list</code> - List all saved queries</li>
        <li><code>query-get</code> - Get details of a specific query</li>
        <li><code>query-update</code> - Update an existing query</li>
        <li><code>query-delete</code> - Delete a saved query</li>
      </ul>
    </div>
  </div>

  <!-- Session Section -->
  <div class="demo-section" id="session">
    <div class="section-header">
      <h2>‚öôÔ∏è Session Management <span class="badge">2 tools</span></h2>
      <p>View session information and manage user preferences</p>
    </div>

    <mcp-session></mcp-session>

    <div class="info-box">
      <h3>MCP Tools Used</h3>
      <ul>
        <li><code>session-info</code> - Get current session information (database, version, uptime)</li>
        <li><code>session-set-preferences</code> - Update user session preferences</li>
      </ul>
    </div>
  </div>

  <div class="footer">
    <p>
      Part of <a href="https://github.com/prismon/mcp-space-browser" target="_blank">mcp-space-browser</a>
      - A disk space indexing agent with MCP support<br>
      <strong>Total MCP Tools:</strong> 30 | <strong>Web Components:</strong> 8
    </p>
  </div>

  <!-- Load all web components -->
  <script src="/web/mcp-projects.js"></script>
  <script src="/web/mcp-disk-indexer.js"></script>
  <script src="/web/mcp-disk-navigator.js"></script>
  <script src="/web/mcp-job-manager.js"></script>
  <script src="/web/mcp-plans.js"></script>
  <script src="/web/mcp-selection-sets.js"></script>
  <script src="/web/mcp-queries.js"></script>
  <script src="/web/mcp-session.js"></script>

  <!-- Tab navigation -->
  <script>
    const tabs = document.querySelectorAll('.nav-tab');
    const sections = document.querySelectorAll('.demo-section');

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const targetSection = tab.dataset.section;

        // Update active tab
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');

        // Update active section
        sections.forEach(s => {
          s.classList.remove('active');
          if (s.id === targetSection) {
            s.classList.add('active');
          }
        });
      });
    });
  </script>
</body>
</html>
